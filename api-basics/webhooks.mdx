---
title: 'Webhooks'
description: 'Manage transaction webhooks.'
icon: 'link'
---

Webhooks allow us to notify you about important events or changes in your payments. Your webhook URL should be an endpoint on your server where you can receive these notifications. Whenever your payments are updated, we'll send you a hook containing the transaction information, payment status, and customer information.

Not all transactions require you to listen for webhooks, just asynchronous payments or actions that would not be completed in real time.

## Setting up your Webhooks
<Steps>
    <Step title="Access your Dashboard" icon="gear">
        Log in to your EPayClub dashboard using your email and password.
        <img src="/images/epay_login.jpg" />
    </Step>
    <Step title="Navigate to your Webhook Settings" icon="gear">
        Select `API Keys and Webhooks` from your settings menu.
        <img src="/images/epay_settings.jpg" />
    </Step>
    <Step title="Update your Webhook URL" icon="gear">
        Add your server's webhook endpoint to the webhook URL field.
        <img src="/images/epay_webhook.jpg" />
    </Step>
    <Step title="Confirm your changes" icon="gear">
        Save your settings update.
    </Step>
</Steps>

## Webhook Structure
When you receive a webhook, each event is a JSON object with:

1. Webhook component 1: explanation
2. Webhooks component 2: explanation
3. Webhook component 3: explanation

```json Webhook Example
ADD_WEBHOOK_EXAMPLE
```

## Best Practices
1. Acknowledge webhook receipt promptly to prevent timeouts, return a 200 HTTP status code immediately, and offload long-running tasks.
<CodeGroup>

```javascript Node.js
ADD_JAVASCRIPT_EXAMPLE
```

```python Python
from flask import Flask, request, jsonify
import threading

app = Flask(__name__)

def process_webhook_async(payload):
    # Long running task
    print(f"Processing payload: {payload}")

@app.route('/webhook', methods=['POST'])
def webhook():
    payload = request.get_json()
    threading.Thread(target=process_webhook_async, args=(payload,)).start()
    return jsonify({"status": "OK"}), 200
```

</CodeGroup>

2. Prevent duplicate actions and validate data consistency. Re-query the API to verify data, and track processed events.
<CodeGroup>

```javascript Node.js
async function processWebhook(payload) {
  const existingEvent = await db.collection('events').findOne({ id: payload.id });
  if (existingEvent) {
      console.log("duplicate event");
      return;
  }

  //Validate data with your API.
  const validatedData = await validateWithApi(payload);

  if (validatedData) {
      await db.collection('events').insertOne(payload);
      //Perform action.
  }
}
```

```python Python
ADD_PYTHON_EXAMPLE
```

</CodeGroup>

3. Set up a back polling job for cases of downtime with your webhook server.